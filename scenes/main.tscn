[gd_scene load_steps=24 format=3 uid="uid://c8q2wjwagov8h"]

[ext_resource type="Script" uid="uid://cil73ed5tu74" path="res://scripts/scene_manager.gd" id="1_o5qli"]
[ext_resource type="Script" uid="uid://dy8vpfa4appfu" path="res://scripts/audio_manager.gd" id="2_0wfyh"]
[ext_resource type="Script" uid="uid://d5tjmlelqgaf" path="res://scripts/sound_effect.gd" id="3_sugp2"]
[ext_resource type="AudioStream" uid="uid://cgia20r1t8n72" path="res://assets/sound/none.mp3" id="4_jyhfs"]
[ext_resource type="AudioStream" uid="uid://oeny2j7fdg5l" path="res://assets/sound/dash_start.mp3" id="5_eb6dy"]
[ext_resource type="Script" uid="uid://dr36lipt4c0a8" path="res://scripts/window_manager.gd" id="5_tbgi4"]
[ext_resource type="Script" uid="uid://fakgyt1igiiy" path="res://scripts/camera_manager.gd" id="6_tefeu"]
[ext_resource type="AudioStream" uid="uid://8yc4fb1f76l3" path="res://assets/sound/dash_end.mp3" id="6_trceg"]
[ext_resource type="Script" uid="uid://bwwc54keio8u7" path="res://scripts/enemy_manager.gd" id="7_85g3d"]
[ext_resource type="AudioStream" uid="uid://7jfnd0gyvlu0" path="res://assets/sound/hit.mp3" id="7_a8y0u"]
[ext_resource type="Shader" uid="uid://dmt0xf6ywpk70" path="res://shaders/subpixel.gdshader" id="7_o6xl0"]
[ext_resource type="PackedScene" uid="uid://h0ndhqd3d6fy" path="res://scenes/dialogue_layer.tscn" id="7_tipki"]
[ext_resource type="Script" uid="uid://cfab6f6jqnxnv" path="res://scripts/player_manager.gd" id="8_choun"]
[ext_resource type="Script" uid="uid://vj0vjbu8pq5r" path="res://scripts/particle_manager.gd" id="9_ya4ey"]
[ext_resource type="Script" uid="uid://di3bbgxr1nblb" path="res://scripts/stat_manager.gd" id="13_jbj1t"]
[ext_resource type="PackedScene" uid="uid://cl7nm38kki82n" path="res://scenes/xp_layer.tscn" id="14_jkv2x"]

[sub_resource type="Resource" id="Resource_jyhfs"]
script = ExtResource("3_sugp2")
limit = 5
type = 0
sound_effect = ExtResource("4_jyhfs")
volume = -5
pitch_scale = 1.0
pitch_randomness = 0.0
metadata/_custom_type_script = "uid://d5tjmlelqgaf"

[sub_resource type="Resource" id="Resource_ya4ey"]
script = ExtResource("3_sugp2")
limit = 5
type = 1
sound_effect = ExtResource("5_eb6dy")
volume = -5
pitch_scale = 0.6
pitch_randomness = 0.0
metadata/_custom_type_script = "uid://d5tjmlelqgaf"

[sub_resource type="Resource" id="Resource_a8y0u"]
script = ExtResource("3_sugp2")
limit = 5
type = 2
sound_effect = ExtResource("6_trceg")
volume = -5
pitch_scale = 1.0
pitch_randomness = 0.0
metadata/_custom_type_script = "uid://d5tjmlelqgaf"

[sub_resource type="Resource" id="Resource_jkv2x"]
script = ExtResource("3_sugp2")
limit = 5
type = 3
sound_effect = ExtResource("7_a8y0u")
volume = -10
pitch_scale = 3.0
pitch_randomness = 0.3
metadata/_custom_type_script = "uid://d5tjmlelqgaf"

[sub_resource type="Resource" id="Resource_jbj1t"]
script = ExtResource("3_sugp2")
limit = 5
type = 5
sound_effect = ExtResource("7_a8y0u")
volume = -15
pitch_scale = 4.0
pitch_randomness = 0.0
metadata/_custom_type_script = "uid://d5tjmlelqgaf"

[sub_resource type="Resource" id="Resource_muem4"]
script = ExtResource("3_sugp2")
limit = 5
type = 4
sound_effect = ExtResource("7_a8y0u")
volume = -10
pitch_scale = 1.0
pitch_randomness = 0.0
metadata/_custom_type_script = "uid://d5tjmlelqgaf"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tipki"]
shader = ExtResource("7_o6xl0")
shader_parameter/cam_offset = Vector2(0, 0)

[node name="Main" type="Node"]

[node name="SceneManager" type="Node" parent="."]
script = ExtResource("1_o5qli")

[node name="AudioManager" type="Node" parent="."]
script = ExtResource("2_0wfyh")
sound_effects = Array[ExtResource("3_sugp2")]([SubResource("Resource_jyhfs"), SubResource("Resource_ya4ey"), SubResource("Resource_a8y0u"), SubResource("Resource_jkv2x"), SubResource("Resource_jbj1t"), SubResource("Resource_muem4")])

[node name="WindowManager" type="Node" parent="."]
script = ExtResource("5_tbgi4")

[node name="CameraManager" type="Node" parent="."]
script = ExtResource("6_tefeu")

[node name="EnemyManager" type="Node" parent="."]
script = ExtResource("7_85g3d")
world_limit_min = -100.0
world_limit_max = 1000.0

[node name="PlayerManager" type="Node" parent="."]
script = ExtResource("8_choun")

[node name="ParticleManager" type="Node" parent="."]
script = ExtResource("9_ya4ey")

[node name="StatManager" type="Node" parent="."]
script = ExtResource("13_jbj1t")

[node name="GUI" type="Control" parent="."]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="DialogueLayer" parent="GUI" instance=ExtResource("7_tipki")]

[node name="XpLayer" parent="GUI" instance=ExtResource("14_jkv2x")]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
unique_name_in_owner = true
texture_filter = 1
texture_repeat = 1
material = SubResource("ShaderMaterial_tipki")
offset_left = -4.0
offset_top = -4.0
offset_right = 478.0
offset_bottom = 268.0

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(482, 272)
render_target_update_mode = 4

[node name="World2D" type="Node2D" parent="SubViewportContainer/SubViewport"]
unique_name_in_owner = true
texture_filter = 1
